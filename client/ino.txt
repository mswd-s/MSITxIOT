
#include <FirebaseESP8266.h>
#include  <ESP8266WiFi.h>

#define ssid "Property of Aabhaas Sikka"  //WiFi SSID
#define password "mcpi3075"  //WiFi Password
#define FIREBASE_HOST "msitxiot-default-rtdb.firebaseio.com"  
#define FIREBASE_AUTH "jZho7ZiPhBk5xuxI9AZ6Eo1B0HIU8zudTR6CvFAv"
#define wifiLed D4
FirebaseData firebaseData;

int first_1 = 16;
int first_2 = 14;
int first_3 = 12;
int first_4 = 13;


void setup() {
  Serial.begin(9600);
/* Serial.begin(9600);
   WiFi.begin (ssid, password);
   while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println ("");
  Serial.println ("WiFi Connected!");
  Firebase.begin(FIREBASE_HOST,FIREBASE_AUTH);*/
    pinMode(first_1,OUTPUT);//initialize the Device OUTPUT  
    pinMode(first_2,OUTPUT);//initialize the Device OUTPUT  
    pinMode(first_3,OUTPUT);//initialize the Device OUTPUT  
    pinMode(first_4,OUTPUT);//initialize the Device OUTPUT 
    pinMode(wifiLed,OUTPUT); 
    WiFi.begin (ssid, password);
Firebase.begin(FIREBASE_HOST,FIREBASE_AUTH);
delay(100);
}
void loop() {

  if (WiFi.status() != WL_CONNECTED){ 
    //Serial.println("WiFi Not Connected");
    digitalWrite(wifiLed, HIGH); //Turn off WiFi LED
  }
  else{ 
    //Serial.println("WiFi Connected");
    digitalWrite(wifiLed, LOW); //Turn on WiFi LED
}

  if (Firebase.get(firebaseData,"/D5")) {
    if (firebaseData.dataType() == "string") {
      String De1 = firebaseData.stringData();
          if (De1=="1"){
              digitalWrite(first_1,HIGH); //Device1 is ON
          }
          else if (De1=="0"){
              digitalWrite(first_1,LOW);//Device1 if OFF
            }}}
  if (Firebase.get(firebaseData,"/D6")) {
    if (firebaseData.dataType() == "string") {
      String De2 = firebaseData.stringData();
          if (De2=="1"){
              digitalWrite(first_2,HIGH);//Device2 is ON
          }
              else if (De2=="0"){
              digitalWrite(first_2,LOW);// Device2 os OFF
            }}}
  if (Firebase.get(firebaseData,"/D7")) {
    if (firebaseData.dataType() == "string") {
      String De3 = firebaseData.stringData();
          if (De3=="1"){
              digitalWrite(first_3,HIGH);//Device3 is ON
          }
              else if (De3=="0"){
              digitalWrite(first_3,LOW);//Device3 is OFF
            }}}
                      
  if (Firebase.get(firebaseData,"/D8")) {
    if (firebaseData.dataType() == "string") {
      String De4 = firebaseData.stringData();
          if (De4=="1"){
              digitalWrite(first_4,HIGH);//Device4 is ON
          }
              else if (De4=="0"){
              digitalWrite(first_4,LOW);//Device4 is OFF
            }}}

  }
